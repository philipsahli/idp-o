apiVersion: score.dev/v1b1
metadata:
  name: unique-test-app-20250920-3

workflows:
  setup:
    steps:
    - name: "Create application repository"
      type: "gitea-repo"
      repoName: "unique-test-app-20250920-3"
      description: "Test application repository for automated manifest generation"
      private: false

    - name: "Generate and commit Kubernetes manifests"
      type: "git-commit-manifests"
      repoName: "unique-test-app-20250920-3"
      manifestPath: "."

    - name: "Onboard repository to ArgoCD"
      type: "argocd-app"
      appName: "unique-test-app-20250920-2-dev"
      repoName: "unique-test-app-20250920-2"
      targetPath: "."
      namespace: "unique-test-app-20250920-2-development"
      syncPolicy: "auto"

containers:
  web:
    image: nginx:latest
    variables:
      APP_NAME: unique-test-app
      ENV_TYPE: test

resources: {}
